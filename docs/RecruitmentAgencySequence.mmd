sequenceDiagram
    box Система бюро по трудоустройству
    participant Работник
    participant Система
    participant БД
    participant Работодатель
    participant Администратор
    end

    %% Процесс 1: Отклик на вакансию
    rect rgba(200, 220, 255, 0.3)
    note right of Работник: Процесс 1: Отклик на вакансию
    Работник->>Система: Запрос поиска вакансий (квалификации, ЗП)
    Система->>БД: Поиск вакансий по критериям
    БД-->>Система: Список вакансий
    Система-->>Работник: Отображение результатов
    Работник->>Система: Выбор вакансии + отправка отклика (резюме)
    Система->>БД: Сохранение отклика (ID вакансии, ID работника)
    Система->>Работодатель: Уведомление: "Новый отклик на вакансию [ID]"
    Работодатель->>Система: Запрос деталей отклика
    Система->>БД: Получение данных работника (резюме, квалификации)
    БД-->>Система: Данные работника
    Система-->>Работодатель: Отображение резюме
    Работодатель->>Система: Решение: "Принять" / "Отклонить"
    Система->>БД: Обновление статуса отклика
    Система->>Работник: Уведомление: "Ваш отклик рассмотрен"
    end

    %% Процесс 2: Создание вакансии
    rect rgba(220, 255, 200, 0.3)
    note right of Работодатель: Процесс 2: Создание вакансии
    Работодатель->>Система: Запрос на создание вакансии
    Система->>Работодатель: Форма ввода (заголовок, описание, квалификации, ЗП, комиссия)
    Работодатель->>Система: Заполнение данных вакансии
    Система->>БД: Проверка уникальности ID работодателя
    БД-->>Система: Подтверждение
    Система->>БД: Сохранение вакансии
    БД-->>Система: ID новой вакансии
    Система-->>Работодатель: "Вакансия [ID] успешно создана"
    end

    %% Процесс 3: Формирование отчета администратором
    rect rgba(255, 200, 200, 0.3)
    note right of Администратор: Процесс 3: Отчет о комиссионных
    Администратор->>Система: Запрос отчета (период, фильтры)
    Система->>БД: Сбор данных: вакансии, комиссии, статусы
    БД-->>Система: Данные о закрытых вакансиях
    Система->>Система: Группировка по компаниям + расчет итогов
    Система-->>Администратор: PDF/Excel отчет (суммы, графики)
    end

    %% Процесс 4: Принятие/отклонение приглашения
    rect rgba(200, 255, 220, 0.3)
    note right of Работодатель: Процесс 4: Приглашение работника
    Работодатель->>Система: Поиск работников (квалификации, резюме)
    Система->>БД: Фильтрация работников
    БД-->>Система: Список кандидатов
    Система-->>Работодатель: Отображение списка
    Работодатель->>Система: Выбор работника + отправка приглашения
    Система->>БД: Сохранение приглашения (ID вакансии, ID работника)
    Система->>Работник: Уведомление: "Новое приглашение на вакансию [ID]"
    Работник->>Система: Просмотр деталей вакансии
    Работник->>Система: Решение: "Принять" / "Отклонить"
    Система->>БД: Обновление статуса приглашения
    Система->>Работодатель: Уведомление о решении работника
    end